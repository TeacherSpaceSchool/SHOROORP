(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{372:function(e,a,t){"use strict";t.r(a),t.d(a,"datePicker",function(){return M});var n=t(377),l=t(15),r=t.n(l),c=t(19),o=t(0),i=t.n(o),d=t(2),s=t.n(d),u=t(14),m=t(49),p=t(27),f=t(87),b=t(36),h=t.n(b),v=t(487),g=t(86),y=t(29),k=t(382),E=t.n(k),x=t(380),O=t.n(x),C=t(399),S=t.n(C),j=t(400),N=t.n(j),P=t(402),z=t.n(P),w=t(32),I=t.n(w),F=t(401),R=t.n(F),T=t(89),M=i.a.createRef(),_=void 0===g.b||g.b.current.offsetWidth>800?500:240,B=void 0===g.b||g.b.current.offsetWidth>800?240:120,D=i.a.memo(function(e){Object(o.useEffect)(Object(c.a)(r.a.mark(function a(){var t,n,l,c,o,i;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if("active"===b.status&&["admin","\u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0442\u043e\u0440","\u0437\u0430\u0432\u0441\u043a\u043b\u0430\u0434\u0430"].includes(b.role)||e.history.push("/"),-1!==u){a.next=18;break}return a.next=4,f.getDataSimple({name:"\u041e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0442\u043e\u0440\u041f\u043eID"});case 4:if(void 0===(t=a.sent)){a.next=16;break}return H(t.region),F(t.name),n=new Date,n=(n=JSON.stringify(n).split("-"))[2].split("T")[0]+" "+y.b[parseInt(n[1])-1]+" "+n[0].replace('"',""),W(n),a.next=14,f.getDataSimple({name:"\u0412\u0441\u0435 \u043e\u0442\u0447\u0435\u0442\u044b \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0442\u043e\u0440\u043e\u0432 \u043f\u043e \u0434\u0430\u0442\u0435",data:{data:n,organizator:t.name,region:t.region}});case 14:if(void 0!=(t=a.sent)){for(le.m.data=[],le.ch.data=[],le.k.data=[],le.m.all=0,le.ch.all=0,le.k.all=0,l=0;l<t.length;l++)c=JSON.parse(t[l].dataTable),le.m.data.push({"\u2116":c.vozvrat.v.mn,l:c.vozvrat.v.ml}),le.k.data.push({"\u2116":c.vozvrat.v.kn,l:c.vozvrat.v.kl}),le.m.all+=c.vozvrat.v.ml,le.k.all+=c.vozvrat.v.kl;re(le)}case 16:a.next=26;break;case 18:return a.next=20,f.getDataSimple({name:"\u041d\u0430\u043a\u043b\u0430\u0434\u043d\u0430\u044f \u043d\u0430 \u0432\u0435\u0447\u0435\u0440\u043d\u0438\u0439 \u0432\u043e\u0437\u0432\u0440\u0430\u0442 \u043f\u043e \u0434\u0430\u043d\u043d\u044b\u043c",data:{data:m[u][1],organizator:m[u][0].split(":")[0],region:m[u][0].split(":")[1].trim()}});case 20:void 0!==(o=a.sent)&&(W(o.data),F(o.organizator),H(o.region),re(JSON.parse(o.dataTable)),ae(o._id)),i=new Date,i=(i=JSON.stringify(i).split("-"))[2].split("T")[0]+" "+y.b[parseInt(i[1])-1]+" "+i[0].replace('"',""),C(i!==o.data);case 26:case"end":return a.stop()}},a,this)})),[]);var a=e.tableActions,t=a.setSelected,l=a.addData,d=a.setData,s=e.table,u=s.selected,m=s.data,p=e.classes,b=e.user.status,g=Object(o.useState)(!1),k=Object(n.a)(g,2),x=k[0],C=k[1],j=Object(o.useState)(""),P=Object(n.a)(j,2),w=P[0],F=P[1],_=Object(o.useState)(""),B=Object(n.a)(_,2),D=B[0],H=B[1],J=Object(o.useState)(""),L=Object(n.a)(J,2),A=L[0],W=L[1],$=Object(o.useState)(new Date),q=Object(n.a)($,2),V=q[0],G=q[1],K=function(){var e=Object(c.a)(r.a.mark(function e(a){var t,n,l;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return G(a),a=(a=JSON.stringify(a).split("-"))[2].split("T")[0]+" "+y.b[parseInt(a[1])-1]+" "+a[0].replace('"',""),W(a),e.next=6,f.getDataSimple({name:"\u0412\u0441\u0435 \u043e\u0442\u0447\u0435\u0442\u044b \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0442\u043e\u0440\u043e\u0432 \u043f\u043e \u0434\u0430\u0442\u0435",data:{data:a,organizator:w,region:D}});case 6:if(void 0!=(t=e.sent)){for(le.m.data=[],le.ch.data=[],le.k.data=[],le.m.all=0,le.ch.all=0,le.k.all=0,n=0;n<t.length;n++)l=JSON.parse(t[n].dataTable),le.m.data.push({"\u2116":l.vozvrat.v.mn,l:l.vozvrat.v.ml}),le.k.data.push({"\u2116":l.vozvrat.v.kn,l:l.vozvrat.v.kl}),le.m.all+=l.vozvrat.v.ml,le.k.all+=l.vozvrat.v.kl;re(le)}case 8:case"end":return e.stop()}},e,this)}));return function(a){return e.apply(this,arguments)}}(),Q=Object(o.useState)(!1),U=Object(n.a)(Q,2),X=U[0],Y=(U[1],Object(o.useState)("")),Z=Object(n.a)(Y,2),ee=Z[0],ae=Z[1],te=Object(o.useState)({m:{all:0,data:[],o:!1,p:!1},ch:{all:0,data:[],o:!1,p:!1},k:{all:0,data:[],o:!1,p:!1}}),ne=Object(n.a)(te,2),le=ne[0],re=ne[1],ce=function(e,a,t){le[a][t]=e.target.checked,re(le)};return i.a.createElement("div",null,i.a.createElement("br",null),i.a.createElement("h1",null,"\u041d\u0430\u043a\u043b\u0430\u0434\u043d\u0430\u044f \u043d\u0430 \u0432\u0435\u0447\u0435\u0440\u043d\u0438\u0439 \u0432\u043e\u0437\u0432\u0440\u0430\u0442"),i.a.createElement("b",null,"\u041e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0442\u043e\u0440:"),"\xa0",w,"\xa0",i.a.createElement("b",null,"\u0420\u0435\u0433\u0438\u043e\u043d:"),"\xa0",D,i.a.createElement("br",null),-1===u&&["admin","\u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0442\u043e\u0440"].includes(b.role)?i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{style:{cursor:"pointer"},onClick:function(){M.current.open()}},i.a.createElement("b",null,"\u0414\u0430\u0442\u0430:"),"\xa0",A),i.a.createElement(T.a,{style:{display:"none"},ref:M,className:p.textFieldSmall,value:V,onChange:K})):i.a.createElement(i.a.Fragment,null,i.a.createElement("b",null,"\u0414\u0430\u0442\u0430:"),"\xa0",A,i.a.createElement("br",null)),i.a.createElement("br",null),i.a.createElement(S.a,null,i.a.createElement(N.a,{expandIcon:i.a.createElement(R.a,null)},i.a.createElement(I.a,{className:p.heading},"\u041c\u0430\u043a\u0441\u044b\u043c"),i.a.createElement(I.a,{className:p.secondaryHeading},i.a.createElement("div",{style:{display:"inline-block"}},i.a.createElement("b",{style:{color:"black"}},le.m.all),"\xa0\xa0"))),le.m.data.map(function(e){return i.a.createElement(z.a,{style:{padding:"0px"}},i.a.createElement("center",{style:{width:"100%"}},i.a.createElement("div",{style:{marginRight:"10px",display:"inline-block",verticalAlign:"middle",fontWeight:"bold"}},"\u2116:"),"\xa0",e["\u2116"],"\xa0\xa0",i.a.createElement("div",{style:{marginRight:"10px",display:"inline-block",verticalAlign:"middle",fontWeight:"bold"}},"\u041b\u0438\u0442\u0440:"),"\xa0",e.l))}),i.a.createElement(z.a,{style:{padding:"0px"}},i.a.createElement("center",{style:{width:"100%"}},i.a.createElement(O.a,{control:i.a.createElement(E.a,{checked:le.m.o,color:"primary",disabled:"admin"!==b.role&&(x||le.m.p||"\u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0442\u043e\u0440"!==b.role),onChange:function(e){ce(e,"m","o")}}),label:"\u041e\u0442\u043f\u0443\u0441\u0442\u0438\u043b"}),i.a.createElement(O.a,{control:i.a.createElement(E.a,{checked:le.m.p,color:"primary",disabled:"admin"!==b.role&&(x||le.m.p||X||!le.m.o||"\u0437\u0430\u0432\u0441\u043a\u043b\u0430\u0434\u0430"!==b.role),onChange:function(e){ce(e,"m","p")}}),label:"\u041f\u0440\u0438\u043d\u044f\u043b"}))),i.a.createElement("br",null)),i.a.createElement(S.a,null,i.a.createElement(N.a,{expandIcon:i.a.createElement(R.a,null)},i.a.createElement(I.a,{className:p.heading},"\u041a\u0432\u0430\u0441"),i.a.createElement(I.a,{className:p.secondaryHeading},i.a.createElement("div",{style:{display:"inline-block"}},i.a.createElement("b",{style:{color:"black"}},le.k.all),"\xa0\xa0"))),le.k.data.map(function(e,a){return i.a.createElement(z.a,{style:{padding:"0px"}},i.a.createElement("center",{style:{width:"100%"}},i.a.createElement("div",{style:{marginRight:"10px",display:"inline-block",verticalAlign:"middle",fontWeight:"bold"}},"\u2116:"),"\xa0",e["\u2116"],"\xa0\xa0",i.a.createElement("div",{style:{marginRight:"10px",display:"inline-block",verticalAlign:"middle",fontWeight:"bold"}},"\u041b\u0438\u0442\u0440:"),"\xa0",e.l))}),i.a.createElement(z.a,{style:{padding:"0px"}},i.a.createElement("center",{style:{width:"100%"}},i.a.createElement(O.a,{control:i.a.createElement(E.a,{checked:le.k.o,color:"primary",disabled:"admin"!==b.role&&(x||le.k.p||"\u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0442\u043e\u0440"!==b.role),onChange:function(e){ce(e,"k","o")}}),label:"\u041e\u0442\u043f\u0443\u0441\u0442\u0438\u043b"}),i.a.createElement(O.a,{control:i.a.createElement(E.a,{checked:le.k.p,color:"primary",disabled:"admin"!==b.role&&(x||le.k.p||X||!le.k.o||"\u0437\u0430\u0432\u0441\u043a\u043b\u0430\u0434\u0430"!==b.role),onChange:function(e){ce(e,"k","p")}}),label:"\u041f\u0440\u0438\u043d\u044f\u043b"}))),i.a.createElement("br",null)),i.a.createElement("br",null),i.a.createElement("div",null,i.a.createElement(v.a,{className:"link",to:""},i.a.createElement(h.a,{variant:"contained",color:"primary",onClick:function(){-1===u?l({search:"",sort:"",page:0,name:"\u041d\u0430\u043a\u043b\u0430\u0434\u043d\u0430\u044f \u043d\u0430 \u0432\u0435\u0447\u0435\u0440\u043d\u0438\u0439 \u0432\u043e\u0437\u0432\u0440\u0430\u0442",data:{dataTable:JSON.stringify(le),data:A,organizator:w,region:D,disabled:X}}):d({id:ee,search:"",sort:"",page:0,name:"\u041d\u0430\u043a\u043b\u0430\u0434\u043d\u0430\u044f \u043d\u0430 \u0432\u0435\u0447\u0435\u0440\u043d\u0438\u0439 \u0432\u043e\u0437\u0432\u0440\u0430\u0442",data:{dataTable:JSON.stringify(le),data:A,organizator:w,region:D,disabled:X}}),t(-1)},className:p.button},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c")),i.a.createElement(v.a,{className:"link",to:"",onClick:function(){t(-1)}},i.a.createElement(h.a,{variant:"contained",color:"secondary",className:p.button},"\u041e\u0442\u043c\u0435\u043d\u0430"))))});Event.propTypes={classes:s.a.object.isRequired},a.default=Object(u.withStyles)(function(e){return{button:{margin:e.spacing.unit},textFieldSmall:{display:"inline-block",marginLeft:e.spacing.unit,marginRight:e.spacing.unit,width:B},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,width:_},urls:{margin:e.spacing.unit,width:_,maxHeight:100,overflow:"auto"},message:{width:_,marginTop:e.spacing.unit,marginBottom:e.spacing.unit,marginLeft:"calc((100% - "+_+"px)/2)",marginRight:"calc((100% - "+_+"px)/2)"},MuiPickersToolbar:{toolbar:{backgroundColor:"#000"}},MuiPickersModal:{dialogAction:{color:"#000"}},heading:{fontSize:e.typography.pxToRem(15),flexBasis:"33.33%",flexShrink:0},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary}}})(Object(m.b)(function(e){return{user:e.user,table:e.table}},function(e){return{tableActions:Object(p.b)(f,e)}})(D))},380:function(e,a,t){"use strict";var n=t(1);Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return l.default}});var l=n(t(381))},381:function(e,a,t){"use strict";var n=t(1);Object.defineProperty(a,"__esModule",{value:!0}),a.default=a.styles=void 0;var l=n(t(3)),r=n(t(8)),c=n(t(5)),o=n(t(0)),i=(n(t(2)),n(t(7))),d=n(t(37)),s=n(t(4)),u=n(t(32)),m=t(26),p=function(e){return{root:{display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-14,marginRight:16,"&$disabled":{cursor:"default"}},labelPlacementStart:{flexDirection:"row-reverse",marginLeft:16,marginRight:-14},labelPlacementTop:{flexDirection:"column-reverse",marginLeft:16},labelPlacementBottom:{flexDirection:"column",marginLeft:16},disabled:{},label:{"&$disabled":{color:e.palette.text.disabled}}}};function f(e){e.checked;var a,t=e.classes,n=e.className,d=e.control,s=e.disabled,p=(e.inputRef,e.label),f=e.labelPlacement,b=e.muiFormControl,h=(e.name,e.onChange,e.value,(0,c.default)(e,["checked","classes","className","control","disabled","inputRef","label","labelPlacement","muiFormControl","name","onChange","value"])),v=s;"undefined"===typeof v&&"undefined"!==typeof d.props.disabled&&(v=d.props.disabled),"undefined"===typeof v&&b&&(v=b.disabled);var g={disabled:v};return["checked","name","onChange","value","inputRef"].forEach(function(a){"undefined"===typeof d.props[a]&&"undefined"!==typeof e[a]&&(g[a]=e[a])}),o.default.createElement("label",(0,l.default)({className:(0,i.default)(t.root,(a={},(0,r.default)(a,t["labelPlacement".concat((0,m.capitalize)(f))],"end"!==f),(0,r.default)(a,t.disabled,v),a),n)},h),o.default.cloneElement(d,g),o.default.createElement(u.default,{component:"span",className:(0,i.default)(t.label,(0,r.default)({},t.disabled,v))},p))}a.styles=p,f.propTypes={},f.defaultProps={labelPlacement:"end"};var b=(0,s.default)(p,{name:"MuiFormControlLabel"})((0,d.default)(f));a.default=b},382:function(e,a,t){"use strict";var n=t(1);Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return l.default}});var l=n(t(383))},383:function(e,a,t){"use strict";var n=t(1);Object.defineProperty(a,"__esModule",{value:!0}),a.default=a.styles=void 0;var l=n(t(3)),r=n(t(8)),c=n(t(5)),o=n(t(0)),i=(n(t(2)),n(t(7))),d=n(t(384)),s=n(t(385)),u=n(t(386)),m=n(t(387)),p=t(26),f=n(t(4)),b=function(e){return{root:{color:e.palette.text.secondary},checked:{},disabled:{},indeterminate:{},colorPrimary:{"&$checked":{color:e.palette.primary.main},"&$disabled":{color:e.palette.action.disabled}},colorSecondary:{"&$checked":{color:e.palette.secondary.main},"&$disabled":{color:e.palette.action.disabled}}}};function h(e){var a=e.checkedIcon,t=e.classes,n=e.className,s=e.color,u=e.icon,m=e.indeterminate,f=e.indeterminateIcon,b=e.inputProps,h=(0,c.default)(e,["checkedIcon","classes","className","color","icon","indeterminate","indeterminateIcon","inputProps"]);return o.default.createElement(d.default,(0,l.default)({type:"checkbox",checkedIcon:m?f:a,className:(0,i.default)((0,r.default)({},t.indeterminate,m),n),classes:{root:(0,i.default)(t.root,t["color".concat((0,p.capitalize)(s))]),checked:t.checked,disabled:t.disabled},inputProps:(0,l.default)({"data-indeterminate":m},b),icon:m?f:u},h))}a.styles=b,h.propTypes={},h.defaultProps={checkedIcon:o.default.createElement(u.default,null),color:"secondary",icon:o.default.createElement(s.default,null),indeterminate:!1,indeterminateIcon:o.default.createElement(m.default,null)};var v=(0,f.default)(b,{name:"MuiCheckbox"})(h);a.default=v},384:function(e,a,t){"use strict";var n=t(1);Object.defineProperty(a,"__esModule",{value:!0}),a.default=a.styles=void 0;var l=n(t(3)),r=n(t(8)),c=n(t(5)),o=n(t(9)),i=n(t(10)),d=n(t(11)),s=n(t(12)),u=n(t(13)),m=n(t(0)),p=(n(t(2)),n(t(7))),f=n(t(37)),b=n(t(4)),h=n(t(45)),v={root:{display:"inline-flex",alignItems:"center",transition:"none","&:hover":{backgroundColor:"transparent"}},checked:{},disabled:{},input:{cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0}};a.styles=v;var g=function(e){function a(e){var t;return(0,o.default)(this,a),(t=(0,d.default)(this,(0,s.default)(a).call(this))).handleFocus=function(e){t.props.onFocus&&t.props.onFocus(e);var a=t.props.muiFormControl;a&&a.onFocus&&a.onFocus(e)},t.handleBlur=function(e){t.props.onBlur&&t.props.onBlur(e);var a=t.props.muiFormControl;a&&a.onBlur&&a.onBlur(e)},t.handleInputChange=function(e){var a=e.target.checked;t.isControlled||t.setState({checked:a}),t.props.onChange&&t.props.onChange(e,a)},t.isControlled=null!=e.checked,t.state={},t.isControlled||(t.state.checked=void 0!==e.defaultChecked&&e.defaultChecked),t}return(0,u.default)(a,e),(0,i.default)(a,[{key:"render",value:function(){var e,a=this.props,t=a.autoFocus,n=a.checked,o=a.checkedIcon,i=a.classes,d=a.className,s=a.defaultChecked,u=a.disabled,f=a.icon,b=a.id,v=a.inputProps,g=a.inputRef,y=a.muiFormControl,k=a.name,E=(a.onBlur,a.onChange,a.onFocus,a.readOnly),x=a.required,O=a.tabIndex,C=a.type,S=a.value,j=(0,c.default)(a,["autoFocus","checked","checkedIcon","classes","className","defaultChecked","disabled","icon","id","inputProps","inputRef","muiFormControl","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"]),N=u;y&&"undefined"===typeof N&&(N=y.disabled);var P=this.isControlled?n:this.state.checked,z="checkbox"===C||"radio"===C;return m.default.createElement(h.default,(0,l.default)({component:"span",className:(0,p.default)(i.root,(e={},(0,r.default)(e,i.checked,P),(0,r.default)(e,i.disabled,N),e),d),disabled:N,tabIndex:null,role:void 0,onFocus:this.handleFocus,onBlur:this.handleBlur},j),P?o:f,m.default.createElement("input",(0,l.default)({autoFocus:t,checked:n,defaultChecked:s,className:i.input,disabled:N,id:z&&b,name:k,onChange:this.handleInputChange,readOnly:E,ref:g,required:x,tabIndex:O,type:C,value:S},v)))}}]),a}(m.default.Component);g.propTypes={};var y=(0,b.default)(v,{name:"MuiPrivateSwitchBase"})((0,f.default)(g));a.default=y},385:function(e,a,t){"use strict";var n=t(1);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var l=n(t(0)),r=n(t(66)),c=n(t(28)),o=l.default.createElement("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),i=function(e){return l.default.createElement(c.default,e,o)};(i=(0,r.default)(i)).muiName="SvgIcon";var d=i;a.default=d},386:function(e,a,t){"use strict";var n=t(1);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var l=n(t(0)),r=n(t(66)),c=n(t(28)),o=l.default.createElement("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),i=function(e){return l.default.createElement(c.default,e,o)};(i=(0,r.default)(i)).muiName="SvgIcon";var d=i;a.default=d},387:function(e,a,t){"use strict";var n=t(1);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var l=n(t(0)),r=n(t(66)),c=n(t(28)),o=l.default.createElement("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),i=function(e){return l.default.createElement(c.default,e,o)};(i=(0,r.default)(i)).muiName="SvgIcon";var d=i;a.default=d}}]);
//# sourceMappingURL=11.f0567bbf.chunk.js.map