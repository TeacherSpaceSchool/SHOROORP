{"version":3,"sources":["pages/Plan.js","../node_modules/react-router-dom/es/Link.js"],"names":["width","undefined","mainWindow","current","offsetWidth","width1","Plan","React","memo","props","useEffect","Object","C_projects_shoro_shoro_admin_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__","C_projects_shoro_shoro_admin_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default","a","mark","_callee","_regions","_data","i","points","_data1","i1","_data2","or","_i","wrap","_context","prev","next","status","includes","role","history","push","selected","regions","tableActions","name","sent","console","log","length","data","region","guid","guidPoint","plan","guidRegion","setRegions","date","JSON","parse","setDate","setPlan","norma","setCurrent","setId","_id","profile","setProfile","stop","this","_props$tableActions","setSelected","addData","setData","_props$table","table","classes","user","_useState","useState","_useState2","C_projects_shoro_shoro_admin_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__","_useState3","_useState4","_useState5","_useState6","virtualList","setVirtualList","_useState7","_useState8","id","_useState9","_useState10","_useState11","_useState12","_useState13","_useState14","react__WEBPACK_IMPORTED_MODULE_3___default","createElement","Fragment","material_ui_pickers__WEBPACK_IMPORTED_MODULE_13__","views","label","className","textField","value","onChange","class","message","style","display","marginRight","verticalAlign","fontWeight","Math","round","map","element","idx","_material_ui_core_ExpansionPanel__WEBPACK_IMPORTED_MODULE_15___default","onClick","_material_ui_core_ExpansionPanelSummary__WEBPACK_IMPORTED_MODULE_16___default","expandIcon","_material_ui_icons_ExpandMore__WEBPACK_IMPORTED_MODULE_19___default","_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_18___default","heading","secondaryHeading","color","idx1","_material_ui_core_ExpansionPanelDetails__WEBPACK_IMPORTED_MODULE_17___default","_material_ui_core_TextField__WEBPACK_IMPORTED_MODULE_9___default","marginTop","type","margin","event","point","parseInt","target","isNaN","checkInt","handlePoints","react_router_dom__WEBPACK_IMPORTED_MODULE_11__","to","_material_ui_core_Button__WEBPACK_IMPORTED_MODULE_10___default","variant","search","sort","page","stringify","month","Date","getMonth","getYear","button","Event","propTypes","PropTypes","object","isRequired","withStyles","theme","spacing","unit","textFieldSmall","marginLeft","urls","maxHeight","overflow","marginBottom","MuiPickersToolbar","toolbar","backgroundColor","MuiPickersModal","dialogAction","fontSize","typography","pxToRem","flexBasis","flexShrink","palette","text","secondary","connect","state","dispatch","bindActionCreators","react__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","react__WEBPACK_IMPORTED_MODULE_0___default","n","prop_types__WEBPACK_IMPORTED_MODULE_1__","prop_types__WEBPACK_IMPORTED_MODULE_1___default","invariant__WEBPACK_IMPORTED_MODULE_2__","invariant__WEBPACK_IMPORTED_MODULE_2___default","history__WEBPACK_IMPORTED_MODULE_3__","_extends","assign","arguments","source","key","prototype","hasOwnProperty","call","_possibleConstructorReturn","self","ReferenceError","isModifiedEvent","metaKey","altKey","ctrlKey","shiftKey","Link","_React$Component","_temp","_this","instance","Constructor","TypeError","_classCallCheck","_len","args","Array","_key","apply","concat","handleClick","defaultPrevented","preventDefault","context","router","_this$props","replace","subClass","superClass","create","constructor","enumerable","writable","configurable","setPrototypeOf","__proto__","_inherits","render","_props","innerRef","obj","keys","indexOf","_objectWithoutProperties","location","href","createHref","ref","Component","func","string","bool","oneOfType","defaultProps","contextTypes","shape","__webpack_exports__"],"mappings":"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","file":"static/js/10.277ee550.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport * as tableActions from '../redux/actions/table'\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport { Link } from 'react-router-dom'\nimport { mainWindow } from '../App'\nimport { DatePicker } from 'material-ui-pickers';\nimport { month, checkInt } from '../redux/constants/other'\n\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\nimport Typography from '@material-ui/core/Typography';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\n\n\nconst width = mainWindow===undefined||mainWindow.current.offsetWidth>800? 500: 240;\nconst width1 = mainWindow===undefined||mainWindow.current.offsetWidth>800? 240: 120;\nconst styles = theme => ({\n    button: {\n        margin: theme.spacing.unit,\n    },\n    textFieldSmall: {\n        display: 'inline-block',\n        marginLeft: theme.spacing.unit,\n        marginRight: theme.spacing.unit,\n        width: width1\n    },\n    textField: {\n        marginLeft: theme.spacing.unit,\n        marginRight: theme.spacing.unit,\n        width: width,\n    },\n    urls: {\n        margin: theme.spacing.unit,\n        width: width,\n        maxHeight: 100,\n        overflow: 'auto'\n    },\n    message: {\n        width: width,\n        marginTop: theme.spacing.unit,\n        marginBottom: theme.spacing.unit,\n        marginLeft: 'calc((100% - '+width+'px)/2)',\n        marginRight: 'calc((100% - '+width+'px)/2)'\n    },\n    MuiPickersToolbar: {\n        toolbar: {\n            backgroundColor: '#000',\n        },\n    },\n    MuiPickersModal: {\n        dialogAction: {\n            color: '#000',\n        },\n    },\n    heading: {\n        fontSize: theme.typography.pxToRem(15),\n        flexBasis: '33.33%',\n        flexShrink: 0,\n    },\n    secondaryHeading: {\n        fontSize: theme.typography.pxToRem(15),\n        color: theme.palette.text.secondary,\n    },\n});\n\nconst Plan = React.memo(\n    (props) =>{\n        useEffect(async ()=>{\n            if (!(status.status==='active'&&['admin', 'организатор'].includes(status.role))) {\n                props.history.push('/')\n            }\n            if(selected===-1) {\n                let regions = [], _data = await tableActions.getDataSimple({name: 'РегионИмя'})\n                console.log(_data)\n                if(_data!==undefined){\n                    for (let i = 0; i < _data.length; i++) {\n                        let points = [], _data1 = await tableActions.getDataSimple({name: 'ТочкаПоРегиону', data: {region: _data[i].guid}})\n                        console.log(_data1)\n                        for (let i1 = 0; i1 < _data1.length; i1++) {\n                            points[i1] = {name: _data1[i1].name, guidPoint: _data1[i1].guid, plan: '', current: 0}\n                        }\n                        regions[i] = {name: _data[i].name, guidRegion: _data[i].guid, plan: 0, current: 0, points: points}\n                    }\n                    setRegions(regions)\n                }\n            } else {\n                let _data = await tableActions.getDataSimple({name: 'ПланПоДате', data: {date: data[selected][0]}})\n                if(_data!==undefined) {\n                    setRegions(JSON.parse(_data.regions))\n                    setDate(_data.date)\n                    setPlan(_data.norma)\n                    setCurrent(_data.current)\n                    setId(_data._id)\n                    if ('организатор' === status.role) {\n                        let or = JSON.parse(_data.regions)\n                        for (let i = 0; i < or.length; i++) {\n                            if (profile.region === or[i].name) {\n                                setPlan(JSON.parse(_data.regions)[0].plan)\n                                setCurrent(JSON.parse(_data.regions)[0].current)\n                            }\n                        }\n\n                        _data = await tableActions.getDataSimple({name: 'Профиль'})\n                        setProfile(_data)\n                    }\n                }\n            }\n        },[])\n        const { setSelected, addData, setData } = props.tableActions;\n        const { selected, data } = props.table;\n        const { classes } = props;\n        const { status } = props.user;\n        let [date, setDate] = useState('2019-01-01');\n        let [profile, setProfile] = useState({});\n        let [virtualList, setVirtualList] = useState({});\n        let [id, setId] = useState('2019-01-01');\n        let [current, setCurrent] = useState(0);\n        let [plan, setPlan] = useState(0);\n        let [regions, setRegions] = useState([]);\n        let handlePoints =  (event, region, point) => {\n            let plan = parseInt(event.target.value)\n            regions[region].points[point].plan = isNaN(plan)?'':plan\n            regions[region].plan = 0\n            for(let i = 0; i<regions[region].points.length; i++) {\n                regions[region].plan += checkInt(regions[region].points[i].plan)\n            }\n            plan = 0\n            for(let i = 0; i<regions.length; i++) {\n                plan += checkInt(regions[i].plan)\n            }\n            setRegions(regions)\n            setPlan(plan)\n        };\n         return (\n            <div>\n                <br/>\n                <br/>\n                {\n                    selected===-1?\n                        <>\n                        <DatePicker\n                            views={['year', 'month']}\n                            label='Дата'\n                            className={classes.textField}\n                            value={date}\n                            onChange={setDate}\n                        />\n                        <br/>\n                        </>\n                        :\n                        <div class={classes.message}>\n                            <h3>\n                                {date}\n                            </h3>\n                        </div>\n                }\n                <div className={classes.message}>\n                    <div style={{display: 'inline-block', marginRight: '10px', verticalAlign: 'middle'}}>\n                        Цель: <div style={{display: 'inline-block', fontWeight: 'bold'}}>{plan}</div>\n                    </div>\n                    <div style={{display: 'inline-block', marginRight: '10px', verticalAlign: 'middle'}}>\n                        Прогресс: <div style={{display: 'inline-block', fontWeight: 'bold'}}>{plan!==0&&plan!==''?Math.round(current*100/plan)+'%':current}</div>\n                    </div>\n                </div>\n                <br/>\n                {regions!=undefined&&regions.length>0?\n                    regions.map((element, idx)=>{\n                    if(status.role=='admin'||(status.role=='организатор'&&profile.region===element.name))\n                        return(\n                            <ExpansionPanel onClick={()=>{virtualList[element.name]=true; setVirtualList(virtualList)}}>\n                                <ExpansionPanelSummary expandIcon={<ExpandMoreIcon />}>\n                                    <Typography className={classes.heading}>{element.name}</Typography>\n                                    <Typography className={classes.secondaryHeading}>\n                                        Цель: <b style={{color: 'black'}}>{element.plan}</b>&nbsp;&nbsp;\n                                        Прогресс: <b style={{color: 'black'}}>{element.plan!==0&&element.plan!==''?Math.round(element.current*100/element.plan)+'%':element.current}</b>\n                                    </Typography>\n                                </ExpansionPanelSummary>\n                                 {virtualList[element.name]===true&&element.points!=undefined&&element.points.length>0?\n                                     element.points.map((element, idx1)=>{\n                                         return(\n                                             <ExpansionPanelDetails>\n                                                 <center style={{width: '100%'}}>\n                                                     <b>{element.name}</b><br/>\n                                                     <div style={{width: '40px', marginRight: '10px', display: 'inline-block', verticalAlign: 'middle'}}>\n                                                        Цель:\n                                                     </div>\n                                                     <TextField\n                                                         style={{marginTop: '12px', marginRight: '10px', width: '70px', display: 'inline-block', verticalAlign: 'middle'}}\n                                                         type=\"number\"\n                                                         margin='normal'\n                                                         value={element.plan}\n                                                         onChange={(event)=>{handlePoints(event, idx, idx1)}}\n                                                     />\n                                                     <div style={{display: 'inline-block', marginRight: '10px', verticalAlign: 'middle'}}>\n                                                         Прогресс: <div style={{display: 'inline-block', fontWeight: 'bold'}}>{element.plan!==0&&element.plan!==''?Math.round(element.current*100/element.plan)+'%':element.current}</div>\n                                                     </div>\n                                                 </center>\n                                             </ExpansionPanelDetails>\n                                         )\n                                        })\n                                        :\n                                        null\n                                    }\n                            </ExpansionPanel>\n                            )\n                    }):null\n                }\n                <br/>\n                <div>\n                    <Link className='link' to={''}>\n                        <Button variant='contained' color='primary' onClick={()=>{\n                            if(selected===-1) {\n                                addData({\n                                    search: '', sort: '', page: 0, name: 'План', data: {\n                                        norma: plan,\n                                        regions: JSON.stringify(regions),\n                                        date: month[(new Date(date)).getMonth()]+' '+(1900+(new Date(date)).getYear())\n                                    }\n                                });\n                            } else\n                                setData({id: id, search: '', sort: '', page: 0, name: 'План', data: {\n                                    norma: plan,\n                                    regions: JSON.stringify(regions)\n                                }});\n                            setSelected(-1)}} className={classes.button}>\n                            Сохранить\n                        </Button>\n                    </Link>\n                    <Link className='link' to={''} onClick={()=>{setSelected(-1)}}>\n                        <Button variant='contained' color='secondary' className={classes.button}>\n                            Отмена\n                        </Button>\n                    </Link>\n                </div>\n            </div>\n        );\n  })\n\nfunction mapStateToProps (state) {\n    return {\n        user: state.user,\n        table: state.table,\n    }\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        tableActions: bindActionCreators(tableActions, dispatch),\n    }\n}\n\nEvent.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(connect(mapStateToProps, mapDispatchToProps)(Plan));\n","var _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport invariant from \"invariant\";\nimport { createLocation } from \"history\";\n\nvar isModifiedEvent = function isModifiedEvent(event) {\n  return !!(event.metaKey || event.altKey || event.ctrlKey || event.shiftKey);\n};\n/**\n * The public API for rendering a history-aware <a>.\n */\n\n\nvar Link = function (_React$Component) {\n  _inherits(Link, _React$Component);\n\n  function Link() {\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, Link);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, _React$Component.call.apply(_React$Component, [this].concat(args))), _this), _this.handleClick = function (event) {\n      if (_this.props.onClick) _this.props.onClick(event);\n\n      if (!event.defaultPrevented && // onClick prevented default\n      event.button === 0 && // ignore everything but left clicks\n      !_this.props.target && // let browser handle \"target=_blank\" etc.\n      !isModifiedEvent(event) // ignore clicks with modifier keys\n      ) {\n          event.preventDefault();\n          var history = _this.context.router.history;\n          var _this$props = _this.props,\n              replace = _this$props.replace,\n              to = _this$props.to;\n\n          if (replace) {\n            history.replace(to);\n          } else {\n            history.push(to);\n          }\n        }\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  Link.prototype.render = function render() {\n    var _props = this.props,\n        replace = _props.replace,\n        to = _props.to,\n        innerRef = _props.innerRef,\n        props = _objectWithoutProperties(_props, [\"replace\", \"to\", \"innerRef\"]); // eslint-disable-line no-unused-vars\n\n\n    invariant(this.context.router, \"You should not use <Link> outside a <Router>\");\n    invariant(to !== undefined, 'You must specify the \"to\" property');\n    var history = this.context.router.history;\n    var location = typeof to === \"string\" ? createLocation(to, null, null, history.location) : to;\n    var href = history.createHref(location);\n    return React.createElement(\"a\", _extends({}, props, {\n      onClick: this.handleClick,\n      href: href,\n      ref: innerRef\n    }));\n  };\n\n  return Link;\n}(React.Component);\n\nLink.propTypes = {\n  onClick: PropTypes.func,\n  target: PropTypes.string,\n  replace: PropTypes.bool,\n  to: PropTypes.oneOfType([PropTypes.string, PropTypes.object]).isRequired,\n  innerRef: PropTypes.oneOfType([PropTypes.string, PropTypes.func])\n};\nLink.defaultProps = {\n  replace: false\n};\nLink.contextTypes = {\n  router: PropTypes.shape({\n    history: PropTypes.shape({\n      push: PropTypes.func.isRequired,\n      replace: PropTypes.func.isRequired,\n      createHref: PropTypes.func.isRequired\n    }).isRequired\n  }).isRequired\n};\nexport default Link;"],"sourceRoot":""}