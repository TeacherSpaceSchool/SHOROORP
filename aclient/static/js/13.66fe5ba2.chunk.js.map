{"version":3,"sources":["page/History1.js"],"names":["History","React","memo","props","lang","app","user","authenticated","history","push","_useState","useState","_useState2","Object","C_projects_biletiki_biletiki_client_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__","tickets","setTickets","useEffect","C_projects_biletiki_biletiki_client_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","C_projects_biletiki_biletiki_client_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","a","mark","_callee","data","i","wrap","_context","prev","next","getSecure","name","sent","length","event","where","stop","this","react__WEBPACK_IMPORTED_MODULE_3___default","createElement","Fragment","className","react_router_dom__WEBPACK_IMPORTED_MODULE_7__","to","map","element","target","href","ticket","style","marginLeft","status","src","image","alt","movie","cinema","hall","seats","element1","priceSelect","date","connect","state","dispatch","appActions","bindActionCreators"],"mappings":"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","file":"static/js/13.66fe5ba2.chunk.js","sourcesContent":["import React, {useState, useEffect} from 'react';\r\nimport { getSecure } from '../redux/actions/app'\r\nimport { connect } from 'react-redux'\r\nimport * as appActions from '../redux/actions/app'\r\nimport { bindActionCreators } from 'redux'\r\nimport { Link } from 'react-router-dom'\r\nimport { month } from '../redux/constants/other'\r\n\r\nconst History =  React.memo(\r\n    (props) =>{\r\n        const { lang } = props.app;\r\n        const { authenticated } = props.user;\r\n        if(!authenticated) props.history.push('/');\r\n        let [tickets, setTickets] = useState([]);\r\n        useEffect(async ()=>{\r\n            let data = await getSecure({name: 'ИсторияКино'});\r\n            for(let i=0; i<data.length; i++){\r\n                if(data[i].event==null)\r\n                    data[i].event={where: {}}\r\n            }\r\n            await setTickets(data);\r\n        },[]);\r\n        return (\r\n            <>\r\n            <div className='main-buy page-profile'>\r\n                <div className='container'>\r\n                    <div className='row'>\r\n                        <div className='col-12'>\r\n                            <ul className='nav page-menu'>\r\n                                <li><Link to='/profile'><a>{lang==='ru'? 'Профиль' : 'Профиль'}</a></Link></li>\r\n                                <li><Link to='/historyevent'><a>{lang==='ru'? 'Заказы мероприятия' : 'Буйруктар ченөө'}</a></Link></li>\r\n                                <li className='active'><a>{lang==='ru'? 'Заказы кино' : 'Буйруктар кино'}</a></li>\r\n                            </ul>\r\n                        </div>\r\n                    </div>\r\n                    {tickets.map((element) => {\r\n                        return (\r\n                            <>\r\n                                <div className='row1'>\r\n                                <div className='col-12 col-md-8 '>\r\n                                    <div className='tickets-list'>\r\n                                        <div className='ticket-order'>\r\n                                            <div className='inner'>\r\n                                                <a  target='_blank' href={element.ticket}>{lang==='ru'? 'Скачать билет' : 'Скачать билет'}\r\n                                                </a>\r\n                                                <div className='right'>\r\n                                                    <div className='ticket-status wait' style={{marginLeft: '50px'}} >{element.status}</div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div className='ticket'>\r\n                                            <div className='ticket-body'>\r\n                                                <div className='img'>\r\n                                                    <img src={element.image} alt />\r\n                                                </div>\r\n                                                <div className='detail'>\r\n                                                    <div className='marker'>\r\n                                                        <i className='icon icon-marker' />\r\n                                                        <b>Фильм:</b>&nbsp;{element.movie}\r\n                                                    </div>\r\n                                                    <div className='marker'>\r\n                                                        <i className='icon icon-marker' />\r\n                                                        <b>Кинотеатр:</b>&nbsp;{element.cinema}\r\n                                                    </div>\r\n                                                    <div className='marker'>\r\n                                                        <i className='icon icon-marker' />\r\n                                                        <b>Зал:</b>&nbsp;{element.hall}\r\n                                                    </div>\r\n                                                    <div className='places'>\r\n                                                        <i className='icon icon-ticket' />\r\n                                                        <span>Билеты</span>\r\n                                                        <ul>\r\n                                                            {element.seats.map((element1) => {\r\n                                                                return (\r\n                                                                    <li>\r\n                                                                        <div className='place-desc'>{lang==='ru'? 'Место' : 'Орун'}: </div>\r\n                                                                        <div className='place-price'>{element1.name}</div>\r\n                                                                        <div className='place-desc'>{lang==='ru'? 'Цена' : 'Баа'}: </div>\r\n                                                                        <div className='place-price'>{element1.priceSelect} сом</div>\r\n                                                                        <div className='place-desc'>Дата:</div>\r\n                                                                        <div className='place-price'>{element1.date}</div>\r\n                                                                    </li>\r\n                                                                )\r\n                                                            })}\r\n                                                        </ul>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                    </div>\r\n\r\n\r\n                                </div>\r\n                            </div>\r\n                            <br/>\r\n                            </>\r\n                        )\r\n                    })}\r\n                </div>\r\n            </div>\r\n            </>\r\n        );\r\n    }\r\n)\r\n\r\nfunction mapStateToProps (state) {\r\n    return {\r\n        app: state.app,\r\n        user: state.user,\r\n    }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return {\r\n        appActions: bindActionCreators(appActions, dispatch),\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(History);\r\n"],"sourceRoot":""}